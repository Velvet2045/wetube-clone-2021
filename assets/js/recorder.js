(()=>{function e(e,n,t,r,c,i,o){try{var a=e[i](o),d=a.value}catch(e){return void t(e)}a.done?n(d):Promise.resolve(d).then(r,c)}var n,t,r,c=document.getElementById("startBtn"),i=document.getElementById("preview"),o=function(){var e=document.createElement("a");e.href=r,e.download="MyRecording.webm",document.body.appendChild(e),e.clock()},a=function e(){c.innerText="Download Recording",c.removeEventListener("click",e),c.addEventListener("click",o),t.stop()};(function(){var t,r=(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0,video:!0});case 2:n=e.sent,i.srcObject=n,i.play();case 5:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(c,i){var o=t.apply(n,r);function a(n){e(o,c,i,a,d,"next",n)}function d(n){e(o,c,i,a,d,"throw",n)}a(void 0)}))});return function(){return r.apply(this,arguments)}})()(),c.addEventListener("click",(function e(){c.innerText="Stop Recording",c.removeEventListener("click",e),c.addEventListener("click",a),(t=new MediaRecorder(n,{mimeType:"video/webm"})).ondataavailable=function(e){r=URL.createObjectURL(e.data),i.srcObject=null,i.src=r,i.loop=!0,i.play()},t.start()}))})();
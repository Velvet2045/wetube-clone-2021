(()=>{function e(e,n,t,r,i,c,o){try{var a=e[c](o),d=a.value}catch(e){return void t(e)}a.done?n(d):Promise.resolve(d).then(r,i)}var n,t,r,i=document.getElementById("actionBtn"),c=document.getElementById("preview"),o=function(){var e=document.createElement("a");e.href=r,e.download="MyRecording.webm",document.body.appendChild(e),e.click()},a=function e(){i.innerText="Download Recording",i.removeEventListener("click",e),i.addEventListener("click",o),t.stop()};(function(){var t,r=(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0,video:!0});case 2:n=e.sent,c.srcObject=n,c.play();case 5:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(i,c){var o=t.apply(n,r);function a(n){e(o,i,c,a,d,"next",n)}function d(n){e(o,i,c,a,d,"throw",n)}a(void 0)}))});return function(){return r.apply(this,arguments)}})()(),i.addEventListener("click",(function e(){i.innerText="Stop Recording",i.removeEventListener("click",e),i.addEventListener("click",a),(t=new MediaRecorder(n,{mimeType:"video/webm"})).ondataavailable=function(e){r=URL.createObjectURL(e.data),c.srcObject=null,c.src=r,c.loop=!0,c.play()},t.start()}))})();